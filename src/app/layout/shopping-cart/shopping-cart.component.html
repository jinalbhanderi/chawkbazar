<aside class="fixed inset-0 z-50 h-full overflow-hidden" style="right: 0%;">
  <div class="absolute inset-0 overflow-hidden">
    <div class="absolute inset-0 bg-heading bg-opacity-40 use-blur-backdrop" style="opacity: 1;"></div>
    <div class="absolute inset-y-0 flex max-w-full outline-none ltr:right-0 rtl:right-0" style="right: 0;">
      <div class="h-full w-screen bg-white max-w-md">
        <div class="drawer flex h-full flex-col text-base shadow-xl">
          <div data-overlayscrollbars-initialize="" class="os-theme-thin h-full w-full" data-overlayscrollbars="host">
            <div class="os-size-observer">
              <div class="os-size-observer-listener ltr"></div>
            </div>
            <div data-overlayscrollbars-contents="" data-overlayscrollbars-viewport="scrollbarHidden" style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; top: 0px; right: auto; left: 0px; width: calc(100% + 0px); padding: 0px;">
              <div class="flex flex-col justify-between w-full h-full cart-drawer-main">
                <!-- Header -->
                <div class="w-full flex justify-between items-center relative ltr:pl-5 rtl:pr-5 ltr:md:pl-7 rtl:md:pr-7 py-0.5 border-b border-gray-100">
                  <h2 class="m-0 text-xl font-bold md:text-2xl text-heading">Shopping cart</h2>
                  <button (click)="closeCart()" class="flex items-center justify-center px-4 py-6 text-2xl text-gray-500 transition-opacity md:px-6 lg:py-8 focus:outline-none hover:opacity-60" aria-label="close">
                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-black mt-1 md:mt-0.5" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                      <path d="M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"></path>
                    </svg>
                  </button>
                </div>
                <!-- Cart Items -->
                <div data-overlayscrollbars-initialize="" class="os-theme-thin flex-grow w-full cart-scrollbar" data-overlayscrollbars="host">
                  <div class="os-size-observer">
                    <div class="os-size-observer-listener ltr"></div>
                  </div>
                  <div data-overlayscrollbars-contents="" data-overlayscrollbars-viewport="scrollbarHidden" style="margin-right: 0px; margin-bottom: 0px; margin-left: 0px; top: 0px; right: auto; left: 0px; width: calc(100% + 0px); padding: 0px;">
                    <div class="w-full px-3 md:px-7">
                      <div *ngIf="isLoading" class="text-center">Loading...</div>
                      <div *ngIf="!isLoading && cartItems.length > 0">
                        <div *ngFor="let item of cartItems" class="group w-full h-auto flex justify-start items-center bg-white py-4 md:py-7 border-b border-gray-100 relative last:border-b-0">
                          <div class="mr-4 relative flex w-24 md:w-28 h-24 md:h-28 rounded-md overflow-hidden bg-gray-200 flex-shrink-0 cursor-pointer ltr:mr-4 rtl:ml-4">
                            <!-- Replace with actual image source if available -->
                            <img alt="{{item.name}}" loading="eager" width="112" height="112" decoding="async" class="bg-gray-300 object-cover" [src]="item.img">
                            <div (click)="removeFromCart(item)" class="absolute top-0 ltr:left-0 rtl:right-0 h-full w-full bg-opacity-30 md:bg-opacity-0 flex justify-center items-center transition duration-200 ease-in-out md:group-hover:bg-opacity-30">
                              <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="relative text-white text-2xl transform md:scale-0 md:opacity-0 transition duration-300 ease-in-out md:group-hover:scale-100 md:group-hover:opacity-100" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                <path d="M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm52.7 283.3L256 278.6l-52.7 52.7c-6.2 6.2-16.4 6.2-22.6 0-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3l52.7-52.7-52.7-52.7c-3.1-3.1-4.7-7.2-4.7-11.3 0-4.1 1.6-8.2 4.7-11.3 6.2-6.2 16.4-6.2 22.6 0l52.7 52.7 52.7-52.7c6.2-6.2 16.4-6.2 22.6 0 6.2 6.2 6.2 16.4 0 22.6L278.6 256l52.7 52.7c6.2 6.2 6.2 16.4 0 22.6-6.2 6.3-16.4 6.3-22.6 0z"></path>
                              </svg>
                            </div>
                          </div>
                          <div class="flex flex-col w-full overflow-hidden">
                            <a class="truncate text-sm text-heading mb-1.5 -mt-1" [href]="item.url">{{item.name}}</a>
                            <span class="text-sm text-gray-400 mb-2.5">Unit Price : &nbsp;{{item.price}}</span>
                            <div class="flex items-end justify-between">
                              <div class="group flex items-center justify-between rounded-md overflow-hidden flex-shrink-0 h-8 md:h-9 shadow-navigation bg-heading">
                                <button class="flex items-center justify-center flex-shrink-0 w-8 md:w-9 h-full text-sm text-white cursor-pointer disabled:opacity-40" aria-label="Decrement" (click)="decrementItem(item)">
                                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-white" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M64 256c0-8.5 6.5-16 16-16h352c8.5 0 16 7.5 16 16s-7.5 16-16 16H80c-9.5 0-16-7.5-16-16z"></path>
                                  </svg>
                                </button>
                                <div class="flex-grow flex items-center justify-center text-xs text-white">{{item.quantity}}</div>
                                <button class="flex items-center justify-center flex-shrink-0 w-8 md:w-9 h-full text-sm text-white cursor-pointer disabled:opacity-40" aria-label="Increment" (click)="incrementItem(item)">
                                  <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" class="text-white" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M448 232H280V80c0-8.5-6.5-16-16-16s-16 7.5-16 16v152H64c-8.5 0-16 6.5-16 16s7.5 16 16 16h184v152c0 8.5 6.5 16 16 16s16-7.5 16-16V264h168c8.5 0 16-6.5 16-16s-7.5-16-16-16z"></path>
                                  </svg>
                                </button>
                              </div>
                              <div class="w-24 h-8 md:w-28 md:h-9 flex items-center justify-center text-heading text-sm font-bold">{{item.totalPrice}}</div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div *ngIf="!isLoading && cartItems.length === 0" class="text-center">Your cart is empty.</div>
                    </div>
                  </div>
                </div>
                <div class="w-full flex flex-col">
                  <div class="w-full px-5 md:px-7 py-6 border-t border-gray-100 flex justify-between items-center">
                    <h2 class="text-lg font-bold text-heading">Total:</h2>
                    <span class="text-lg font-bold text-heading">{{totalPrice}}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</aside>
