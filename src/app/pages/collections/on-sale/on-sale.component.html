
<ng-container *ngIf="!showPopup">

  <div class="w-full ltr:xl:-ml-4 ltr:2xl:-ml-9 rtl:xl:-mr-4 rtl:2xl:-mr-9" >
    <div class="flex justify-between items-center mb-7">
      <h1 class="text-2xl font-bold text-heading hidden lg:inline-flex pb-1 capitalize">{{ title }}</h1>
      <div class="flex items-center justify-end">
        <div class="flex-shrink-0 text-body text-xs md:text-sm leading-4">{{ products.length }} items</div>
      </div>
    </div>
    <div
      class="grid grid-cols-2 sm:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 gap-x-3 lg:gap-x-5 xl:gap-x-7 gap-y-3 xl:gap-y-5 2xl:gap-y-8">
      <div *ngFor="let product of products"
        class="group box-border overflow-hidden flex rounded-md cursor-pointer ltr:pr-0 rtl:pl-0 pb-2 lg:pb-3 flex-col items-start bg-white transition duration-200 ease-in-out transform hover:-translate-y-1 hover:md:-translate-y-1.5 hover:shadow-product"
        [attr.title]="product.productName">
        <div class="flex relative ltr:rounded-l-md rtl:rounded-r-md mb-3 md:mb-3.5 w-full aspect-[1/1.3]">
          <img [src]="product.imageUrl" alt="{{ product.productName }}" loading="lazy" decoding="async"
            class="bg-gray-300 object-cover rounded-md transition duration-200 ease-in group-hover:rounded-b-none"
            sizes="(max-width: 768px) 100vw" (click)="openPopup(product)">
        </div>
        <div
          class="w-full overflow-hidden ltr:pl-0 rtl:pr-0 ltr:lg:pl-2.5 ltr:xl:pl-4 rtl:lg:pr-2.5 rtl:xl:pr-4 ltr:pr-2.5 ltr:xl:pr-4 rtl:pl-2.5 rtl:xl:pl-4">
          <h2 class="text-heading font-semibold truncate mb-1 text-sm md:text-base">{{ product.productName }}</h2>
          <div
            class="text-heading font-semibold text-sm sm:text-base mt-1.5 space-x-1 rtl:space-x-reverse 3xl:text-lg lg:mt-2.5">
            <span class="inline-block">{{ product.newprice }}</span>
            <del class="font-normal text-gray-800 sm:text-base ltr:pl-1 rtl:pr-1">{{ product.oldprice }}</del>
          </div>
        </div>
      </div>
    </div>
    <div class="pt-8 text-center xl:pt-14"></div>
  </div>
</ng-container>
<ng-container *ngIf="showPopup">

  <app-product-popup
    [title]="selectedProduct?.productName"
    [description]="selectedProduct?.description"
    [newPrice]="selectedProduct?.newprice"
    [oldprice]="selectedProduct?.oldprice"
    [imageSrc]="selectedProduct?.imageUrl"
    [colors]="selectedProduct?.colors"
    (close)="closePopup()"
  ></app-product-popup>
</ng-container>


